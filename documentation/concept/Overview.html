<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture of a payments interoperability layer | Payments Interoperability Layer Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Payments Interoperability Layer Documentation">
    <meta name="theme-color" content="#00a3ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/payments-interoperability-layer/assets/css/0.styles.43ee56f3.css" as="style"><link rel="preload" href="/payments-interoperability-layer/assets/js/app.53bea330.js" as="script"><link rel="preload" href="/payments-interoperability-layer/assets/js/3.18f6b80e.js" as="script"><link rel="preload" href="/payments-interoperability-layer/assets/js/14.787ba157.js" as="script"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/10.40ad6ec1.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/11.4406c51b.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/12.5c9b93e5.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/13.97695abc.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/15.6423f441.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/16.a54844d6.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/17.ac6e776a.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/18.f569f371.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/19.9c15e520.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/2.c9424017.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/20.e2e8af8d.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/21.b089f7a8.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/22.c5d3cd40.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/23.54b86716.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/24.2a5eea6b.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/4.dd768288.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/5.8bc60e45.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/6.801b443a.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/7.7d6d7340.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/8.bd3e35d7.js"><link rel="prefetch" href="/payments-interoperability-layer/assets/js/9.71a236e4.js">
    <link rel="stylesheet" href="/payments-interoperability-layer/assets/css/0.styles.43ee56f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="custom-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/payments-interoperability-layer/" class="home-link router-link-active"><img src="https://sp-convergence.org/wp-content/uploads/2021/11/cropped-Logotipo1-3.png" alt="Payments Interoperability Layer Documentation" class="logo"> <span class="site-name can-hide">Payments Interoperability Layer Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Concept</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/payments-interoperability-layer/documentation/concept/Overview.html" aria-current="page" class="active sidebar-link">Overview</a></li><li><a href="/payments-interoperability-layer/documentation/concept/IndividualServices.html" class="sidebar-link">IndividualServices</a></li></ul></section></li><li><a href="/payments-interoperability-layer/documentation/Sequence Diagrams.html" class="sidebar-link">Sequence Diagrams</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Version 0.1.0</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/payments-interoperability-layer/documentation/v0_1_0/" class="sidebar-link">API Specification</a></li><li><a href="/payments-interoperability-layer/documentation/v0_1_0/Data Standards.html" class="sidebar-link">Data Standards</a></li><li><a href="/payments-interoperability-layer/documentation/v0_1_0/Code Directories.html" class="sidebar-link">Code Directories</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Proof of concept implementation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/payments-interoperability-layer/documentation/pocs/" class="sidebar-link">PoC Overview</a></li><li><a href="/payments-interoperability-layer/documentation/pocs/G2P.html" class="sidebar-link">Payment via a DFSP interface</a></li><li><a href="/payments-interoperability-layer/documentation/pocs/FHIR.html" class="sidebar-link">Payment via a 3PPI interface</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page custom"> <div class="page-nav top"><p class="inner"><!----> <span class="next"><a href="/payments-interoperability-layer/documentation/concept/IndividualServices.html">
        IndividualServices
      </a>
      →
    </span></p></div> <div class="theme-default-content content__default"><h1 id="architecture-of-a-payments-interoperability-layer"><a href="#architecture-of-a-payments-interoperability-layer" class="header-anchor">#</a> Architecture of a payments interoperability layer</h1> <h1 id="objective"><a href="#objective" class="header-anchor">#</a> Objective</h1> <p>The objective of a Payments Interoperability Layer is to manage the interactions between Social Protection Programs (SPP) and the Payment Execution Systems (PES) which are available in the jurisdiction where it is deployed, such that:</p> <ol><li><p>Each SPP that uses it can interact with the Payments Interoperability Layer using an interface which allows sufficient flexibility for an SPP to configure its payments in any way it wants to, while not forcing the SPP to take account of the specific PESs in the jurisdiction where it is deployed.</p></li> <li><p>The SPP should not rely on assumptions about the nature of the PESs in the jurisdiction where it is deployed, or about the connections that might exist between them. This is equivalent to saying that a Payments Interoperability Layer should be capable of deployment in a jurisdiction where the payment infrastructure is as described in scenario 4 of <a href="https://docs.egovstack.net/v1.1.0/Payments_Building_Block_Specification_v1.1.0.pdf" target="_blank" rel="noopener noreferrer">the GovStack Payments Building Block specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (see Section 4.2.5): that is, where there is no interconnection between PESs except that provided by the PBB. A Payments Interoperability Layer which supports GovStack scenario 4 can support all the other GovStack scenarios.</p></li></ol> <h1 id="overall-architecture"><a href="#overall-architecture" class="header-anchor">#</a> Overall architecture</h1> <p>The Payments Interoperability Layer provides a public interface which is intended to be accessed across the public internet. Its overall organisation uses a standard pattern for resources of this kind:</p> <ol><li><p>The public component which receives requests from users and returns responses to them is a demilitarised zone (DMZ) which ensures that the operational components of the Payments Interoperability Layer are well protected against unrecognised actors and operations. The DMZ contains the following components.</p> <ol><li><p>An IP whitelisting service which enables Payments Interoperability Layer administrators to ensure that only requests from recognised endpoints are processed by the system.</p></li> <li><p>A Role-based Access Control (RBAC) service, which ensures that access to individual elements of the Payments Interoperability Layer can be restricted to individual users.</p></li> <li><p>A Mutual Transport Level Security (MTLS) component which allows the Payments Interoperability Layer to receive encrypted messages from recognised participants only, to decrypt them for processing and to re-encrypt the responses for security.</p></li> <li><p>A JWS non-repudiation check to enable the Payments Interoperability Layer to verify that incoming messages in fact originated from the claimed sender, and that they have not been modified in transit by a man-in-the-middle attack.</p></li> <li><p>A syntax check to confirm that incoming messages conform to the syntactic rules of the interface before significant effort is spent in processing them.</p></li></ol></li> <li><p>The resource component, which contains the resources which are exposed to users of the Payments Interoperability Layer as API endpoints. The Payments Interoperability Layer supports the following major endpoints, each of which:</p> <ol><li><p>A synonyms endpoint. This allows users of the Payments Interoperability Layer to map between identifiers which they use and identifiers which are recognised by the PESs with which they will interact.</p></li> <li><p>An address resolution endpoint. This allows an SPP to submit a list of identifiers, without payment instructions attached. The Payments Interoperability Layer will attempt to resolve each entry to a reachable account in a PES which it knows about, and will report the results back to the caller.</p></li> <li><p>A payability endpoint. This allows an SPP to submit a list of identifiers with payment instructions attached. For each entry which is associated with a reachable account in a PES, the Payments Interoperability Layer will attempt to establish whether or not the amount specified can be paid to the account. It will report the results back to the caller.</p></li> <li><p>A payment execution endpoint. This allows an SPP to submit a list of identifiers with payment instructions attached, and will attempt to execute the specified payment for each: <em>either</em> by transferring funds to the beneficiary’s account if the beneficiary has a reachable account, <em>or</em> by issuing an encashment certificate in a form specified by the configuration of the Payments Interoperability Layer if the beneficiary has no reachable account. The results will be reported back to the caller.</p></li> <li><p>An incoming payments endpoint. This allows an SPP to receive information about payments made to a program specified by an account, either by periodically requesting information about payments received, or by subscribing to a publication which the Payments Interoperability Layer update with information about incoming payments as they are made.</p></li></ol></li> <li><p>The Payments Interoperability Layer. This layer contains an administrative process for each of the endpoints specified above. The administrative process takes care of initial administration tasks, such as logging requests and retrieving stored lists if required. It then calls a service which performs the tasks associated with the endpoint. The content of these tasks is shown in more detail below.</p></li></ol> <p>The overall architecture of the Payments Interoperability Layer is as follows:</p> <p><img src="/payments-interoperability-layer/assets/concept-overview-architecture.drawio.svg" alt="Architecture Diagram"></p> <p>The next sections describe the operation of individual services in the Payments Interoperability Layer.</p></div>  <div class="page-nav bottom"><p class="inner"><!----> <span class="next"><a href="/payments-interoperability-layer/documentation/concept/IndividualServices.html">
        IndividualServices
      </a>
      →
    </span></p></div></main></div></div><div class="global-ui"><!----></div></div>
    <script src="/payments-interoperability-layer/assets/js/app.53bea330.js" defer></script><script src="/payments-interoperability-layer/assets/js/3.18f6b80e.js" defer></script><script src="/payments-interoperability-layer/assets/js/14.787ba157.js" defer></script>
  </body>
</html>
